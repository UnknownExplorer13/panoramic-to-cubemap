<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="Convert a 360° panoramic image to a cubemap.">
  <title>Panoramic to Cubemap</title>
  <style>
	html {
	  color-scheme: dark;
    }
    body {
      margin: 1em auto;
      max-width: 800px;
      background: #181a1b;
      color: #e8e6e3;
    }
    ::-webkit-scrollbar {
      background-color: #202324;
      color: #aba499;
    }
    ::-webkit-scrollbar-corner {
      background-color: #181a1b;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #454a4d;
    }
    input {
      background: #181a1b;
      color: #e8e6e3;
    }
    .settings > * {
      margin-top: 12px;
      margin-bottom: 12px;
    }
    #cubemap {
      width: 800px;
      height: 600px;
      position: relative;
      border: 1px solid #52585c;
      background: #222426;
      margin-top: 15px;
    }
  </style>
</head>

<body>
  <header>
    <center><img src="Logo.png" alt="Panoramic to Cubemap Logo" width="800"></center>
	<br>
    <aside><center>Convert a 360° panoramic image to six cube faces.</center></aside>
  </header>

  <main>
    <section>
      <h2><u>Upload</u></h2>
      <label>Upload a panoramic image: <input id="imageInput" type="file" accept="image/*"></label>
      <ul>
        <li>The image must be formatted with equirectangular projection.</li>
        <li>The image must have an aspect ratio of 2:1 (the width must be exactly twice the height).</li>
      </ul>
      <p>A cubemap will be generated from your image.</p>
    </section>

    <section class="settings">
      <h2><u>Settings</u></h2>
	  <fieldset>
	    <legend>Cube Rotation - <small>The angles the cubemap will be rotated on.</small></legend>
        <label>Pitch (Up/Down)：<input id="cube-rotation-pitch" type="number" min="0" max="359" value="0">°</label>
        <label>Yaw (Left/Right)：<input id="cube-rotation-yaw" type="number" min="0" max="359" value="0">°</label>
        <label>Roll (Rotate Image)：<input id="cube-rotation-roll" type="number" min="0" max="359" value="0">°</label>
	  </fieldset>
      <fieldset>
        <legend>Interpolation Type - <small>The resampling algorithm to use when generating the cubemap.</small></legend>
        <label><input type="radio" name="interpolation" value="lanczos" checked>Lanczos (Best but Slower)</label>
        <label><input type="radio" name="interpolation" value="cubic">Cubic (Sharper Details)</label>
        <label><input type="radio" name="interpolation" value="linear">Linear (Softer Details)</label>
      </fieldset>
      <fieldset>
        <legend>Output Format - <small>File format to use when downloaded.</small></legend>
        <label><input type="radio" name="format" value="png" checked>PNG</label>
        <label><input type="radio" name="format" value="jpg">JPEG</label>
      </fieldset>
    </section>

    <section>
      <h2><u>Output</u></h2>
      <p>Click each cube face to save them to your computer or use the button below to download them all at once.</p>
      <button onclick="downloadAll(window.downloadList)">Download All</button>
      <div id="cubemap">
        <b id="generating" style="visibility:hidden">Generating...</b>
        <output id="faces"></output>
      </div>
    </section>
  </main>

  <footer>
    <p>
      <small>Panorama to Cubemap by <a href="https://github.com/jaxry">Lucas Crane</a></small>
      <br>
      <small>Original Website Design by <a href="http://motherfuckingwebsite.com/">mf</a></small>
	  <br>
	  <small>Revamped by <a href="https://github.com/UnknownExplorer13">UnknownExplorer13</a></small>
    </p>
  </footer>

  <script src="main.js"></script>
  <script src="convert.js"></script>
</body>
</html>
